---
title: Shell
---

文本模式登陆后取得的程序被称为壳（shell），linx 的壳程序就是厉害的 bash 这一支！关于 bash 后续会介绍

```bash
$ command [-options] parameter1 parameter2
  指令      选项        参数1       参数2
```

- command：指令（command）或 可执行文件（如批次脚本 script）

- command：是指令名称，例如变换工作目录的指令是 cd 等

- 中括号是可选配置参数

    - `-` 一个短横线，如 -h，这是选项的简写

    - `--` 两个短横线，是选项的完整名称，如 --help

- 指令、选项、参数等中间以空格来区分，不论空几格 shell 都视为一格，所以空格是很重要的特殊字符

- 按下 enter 按键后，就代表一行指令的开始启动

- 指令太长的时候，可以使用反斜杠 `\` 来跳脱 enter 按键，使指令连续到下一行

- 严格区分英文大小写

```bash
# 查看目前支持的语系
[mrcode@study ~]$ locale
# 如果是中文的话，则是 LANG=zh_CN.UTF-8
LANG=en_US.UTF-8
LC_CTYPE="en_US.UTF-8"
LC_NUMERIC="en_US.UTF-8"
LC_TIME="en_US.UTF-8"
LC_COLLATE="en_US.UTF-8"
LC_MONETARY="en_US.UTF-8"
LC_MESSAGES="en_US.UTF-8"
LC_PAPER="en_US.UTF-8"
LC_NAME="en_US.UTF-8"
LC_ADDRESS="en_US.UTF-8"
LC_TELEPHONE="en_US.UTF-8"
LC_MEASUREMENT="en_US.UTF-8"
LC_IDENTIFICATION="en_US.UTF-8"
LC_ALL=

# LANG 的语系为 en_US.UTF-8，这已经是英文环境下的编码了
# 但是可以通过以下的方式临时来修改语系

# LANG 只与输出信息有关
[mrcode@study ~]$ LANG=en_US.utf8
# lc_all 则表示所有的都使用该语系
[mrcode@study ~]$ export LC_ALL=en_US.utf8

# 记得，上面的操作方式是临时的，注销 linux 后，就不生效了，后续会讲解这个

# 可以修改 `/etc.local.conf` 来达到持久化改变
```

# 基础指令操作

```bash
[mrcode@study ~]$ date
Fri Oct  4 23:41:16 CST 2019
# 格式化输出
[mrcode@study ~]$ date +%Y/%m/%d
2019/10/04
[mrcode@study ~]$ date +%H:%M
23:41
# 某些特殊情况下指令选项是带 + 号
```

```bash
# 显示当前月
[mrcode@study ~]$ cal
    October 2019    
Su Mo Tu We Th Fr Sa
       1  2  3  4  5
 6  7  8  9 10 11 12
13 14 15 16 17 18 19
20 21 22 23 24 25 26

# 显示整年，这里只贴出部分
[mrcode@study ~]$ cal 2019
                               2019                               

       January               February                 March       
Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa
       1  2  3  4  5                   1  2                   1  2
 6  7  8  9 10 11 12    3  4  5  6  7  8  9    3  4  5  6  7  8  9
13 14 15 16 17 18 19   10 11 12 13 14 15 16   10 11 12 13 14 15 16
20 21 22 23 24 25 26   17 18 19 20 21 22 23   17 18 19 20 21 22 23
27 28 29 30 31         24 25 26 27 28         24 25 26 27 28 29 30
                                              31
        April                   May                   June        
Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa   Su Mo Tu We Th Fr Sa
    1  2  3  4  5  6             1  2  3  4                      1
 7  8  9 10 11 12 13    5  6  7  8  9 10 11    2  3  4  5  6  7  8
14 15 16 17 18 19 20   12 13 14 15 16 17 18    9 10 11 12 13 14 15
21 22 23 24 25 26 27   19 20 21 22 23 24 25   16 17 18 19 20 21 22
28 29 30               26 27 28 29 30 31      23 24 25 26 27 28 29

```

```bash
# 进入 bc，会显示当前版本等信息
[mrcode@study ~]$ bc
bc 1.06.95
Copyright 1991-1994, 1997, 1998, 2000, 2004, 2006 Free Software Foundation, Inc.
This is free software with ABSOLUTELY NO WARRANTY.
For details type 'warranty'.
```

# 下面就可以输入你要计算的公式，按回车显示结果

```bash
1+2+3+4
10
7-8+3
2
10*52
520
10^2
100
10/100
0
10*2-1
19

# 离开
```

# 热键

tab 算是 Linux 的 Bash shell 最棒的功能之一了，具有 命令补全、文件补齐的功能， 但是在不同的地方输入有不一样的结果

```bash
[mrcode@study ~]$ ca   # 连续按两下 tab tab
```
# 出来了所有以 ca 开头的指令都出来了
```bash
cacertdir_rehash     cache_writeback      canberra-boot        case
cache_check          cairo-sphinx         canberra-gtk-play    cat
cache_dump           cal                  cancel               catchsegv
cache_metadata_size  ca-legacy            cancel.cups          catman
cache_repair         calibrate_ppa        capsh                
cache_restore        caller               captoinfo      
```
```bash
# 文件补齐      
[mrcode@study ~]$ ls -al ~/.bash
.bash_history  .bash_logout   .bash_profile  .bashrc
```
```bash
# 指令参数补齐       
[mrcode@study ~]$ date --
--date        --help        --reference=  --rfc-3339=   --universal   
--date=       --iso-8601    --rfc-2822    --set=        --version  
```

### ctrl + c

中断指令的，比如输错了指令，或则这个领了 `find /`，会刷屏好一会，这个时候就可以终端它

通常代表键盘输入结束（end of file 或 end of Input）。

另外也可以用来取代 exit 的输入，例如在文字界面使用 ctrl + d 就能够直接离开了（相当于 exit）

翻页功能，在文本界面执行某些指令时，输出的信息很长，导致前面的部分已不再当前屏幕中了， 就可以使用该按键来前后翻页

Linux 下的指令是很多的，下面使用 g 补全可以看到有 225 个以 g 开头的命令

```bash
[mrcode@study ~]$ g
Display all 225 possibilities? (y or n)
```

指令的 --help 求助说明

### 进程控制

查看端口占用：`lsof -i:3000`

关闭进程：`kill -9 {进程号}`

#### nohup

`nohup ./{filename} &`

