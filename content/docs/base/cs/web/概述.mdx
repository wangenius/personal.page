---
title: 概述
sidebar_position: 1
slug: 概述
---

# 概述

计算机网络是指将地理位置不同的具有独立功能的多台计算机及其外部设备通过通信线路连接起来，在网络操作系统，网络管理软件及网络通信协议的管理和协调下，实现资源共享和信息传递的计算机网络。简单来说就是相互连接的以共享资源为目的的自治计算机集合。  
互联网是由大量的异构网络通过路由器连接起来的。

:::success 什么是计算机网络
计算机网络的理解,可以和多处理器, 多存储器的计算机相比较. 比如说, 两个本地相连接的的计算机.

一个计算机可以从多个存储器获得信息. 一个计算机也可以有多个处理器. 但从物理空间上来说, 它们信息流动的距离很短. 而这没办法满足远距离的信息交换.

从一个单独的系统而言，网络可以视为一个 I/O 设备。

以在一个远端服务器运行程序为例，在本地输入，在远端执行，执行结果发送回本地输出.
:::

## 概念

| 概念                                                                                 | 释义                                                                                                                                                                                                                                    |
| ------------------------------------------------------------------------------------ | --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 数据                                                                                 | 信息的实体,包括模拟数据，数字数据                                                                                                                                                                                                       |
| 信号                                                                                 | 数据的电气或电磁表现，数据在传输过程中的存在形式,包括模拟信号，数字信号。基带信号：基本频带信号，来自信源，像计算机输出的文字图片等，往往包括较多低频分量，甚至有直流分量，需要调制（基带调制：基带信号调制后仍然是基带信号，又叫编码） |
| 码元`codeunit`                                                                       | ：一个固定时长的信号波形（数字脉冲），表示一位k进制数字，代表不同离散数值的基本波形，数字通信中数字信号的计量单位，这个时长内的信号叫k进制码元，该时长称为码元宽度，1码元可以携带若干比特的信息量。                                     |
| 信源                                                                                 | 产生和发送数据的源头                                                                                                                                                                                                                    |
| 信道                                                                                 | 有向的信号的传输媒介，噪声源是信道上的噪声及分散在通信系统其他各处的噪声的集中表示。 模拟信道-数字信道，无线信道-有线信道，基带传输-宽带传输。信道的极限容量是指信道的最高码元传输速率或信道的极限信息传输速率                          |
| 信宿                                                                                 | 接收数据的终点                                                                                                                                                                                                                          |
| 数据率（速率）`data rate`                                                            | 单位时间内传输的数据量，用码元传输速率或信息传输速率来表示                                                                                                                                                                              |
| 码元传输速率                                                                         | 又叫`baud rate`，`1 baud = 1 cu/s`，码元速率与进制数无关,波特：Baud                                                                                                                                                                     |
| 信息传输速率                                                                         | 又叫比特率，单位时间内数字通信系统传输的比特数                                                                                                                                                                                          |
| 带宽                                                                                 | 具有的频带宽度`Hz`;单位时间内从网络中的一点到另一点所能通过的最高数据率，`b/s`                                                                                                                                                          |
| 发送周期                                                                             | 发送方从开始发送数据到接收到第一个确认帧为止，称为一个发送周期                                                                                                                                                                          |
| 信噪比                                                                               | 信号的平均功率和噪声的平均功率之比`S/N(dB)`，信号相对强，噪声影响小，反之影响大。                                                                                                                                                       |
| 时延delay，延迟                                                                      | 处理时延：处理分组;排队时延：进入路由器的排队消耗;时延带宽积：传播时延和带宽的乘积，以比特为单位的链路长度，单位bit，发送端发送数据，第一个bit到达终点时刻，发送端已经发出了n个。                                                       |
| 利用率                                                                               | 信道利用率的数值：在一个发送周期T中有效数据传输时间与发送周期T的比值。                                                                                                                                                                  |
| 发送周期                                                                             | 发送方从开始发送数据到接收到第一个确认帧为止，称为一个发送周期。                                                                                                                                                                        |
| 网络利用率                                                                           | 全网络的信道利用率的加权平均值,信道利用率和网络利用率过高会产生非常大的时延                                                                                                                                                             |
| 实体`entity`                                                                         | 任何可以发送或接收信息的硬件或软件进程。                                                                                                                                                                                                |
| 对等实体`peer entity`                                                                | 不同开放系统上同一层中的实体。                                                                                                                                                                                                          |
| 协议（protocol）                                                                     | 若干对等实体进行通信的规则集合。协议是水平的，对上层透明。协议是控制两个对等实体之间通信的规则的集合。在协议的控制下，两个对等实体间的通信使得本层能够向上一层提供服务，而要实现本层协议，还需要使用下一层提供的服务。                  |
| 协议栈（protocol stack）                                                             | 各层协议按层次顺序排列的协议序列。                                                                                                                                                                                                      |
| 服务（service）                                                                      | 低层向相邻高层提供的通信能力。服务是垂直的，下层对上层通过层间接口提供。                                                                                                                                                                |
| 无确认无连接服务                                                                     | 寄邮件一样，每个报文都独立寻址，独立路由。对丢失的帧，链路层不负责重发，而交给上层处理，对丢失的帧，链路层不负责重发，而交给上层处理，`ethernet`                                                                                        |
| 有确认无连接服务                                                                     | 源机器在规定时间内未收到确认信号，重传丢失的帧，误码率较高的通信信道，无线通信                                                                                                                                                          |
| 有确认有连接服务                                                                     | 建立链路，传输帧，释放链路三个阶段，目的机器对收到的每一帧都要给出确认，源机器收到确认后才能发出下一帧，用于通信要求较高的场合。打电话一样分为三个阶段，建立连接；使用连接；释放连接。                                                  |
| 接口（interface）                                                                    | 相邻层之间的边界。                                                                                                                                                                                                                      |
| 服务访问点（SAP）                                                                    | 位于接口上的具体地点（地址），抽象概念。                                                                                                                                                                                                |
| 服务提供者（service provider）                                                       | 服务中的底层实体。ISP                                                                                                                                                                                                                   |
| 服务用户（service user）                                                             | 服务中的高层实体。                                                                                                                                                                                                                      |
| 协议数据单元PDU                                                                      | 对等层次之间传输数据单位称为该层的协议数据单元。                                                                                                                                                                                        |
| 服务数据单元SDU                                                                      | 层与层之间交换的数据单元。                                                                                                                                                                                                              |
| Internet                                                                             | 互联网，主机在边缘，路由器在核心，作用是按存储转发的方式进行分组交换。                                                                                                                                                                  |
| 边缘                                                                                 | 用户直接使用的连接在互联网上的主机                                                                                                                                                                                                      |
| 核心                                                                                 | 为边缘部分提供服务的（连通性和交换）大量网络和连接这些网络的路由器组成。                                                                                                                                                                |
| 当一台计算机发送数据时，总线上的所有计算机都能检测到这个数据。这种就是广播通信方式。 | 局域网中的计算机、主机、工作站、站、站点都是同义词                                                                                                                                                                                      |


## OSI

> 协议服务接口在TCP/IP中没有明确区分。

### 物理层

`IEEE802` `IEEE802.2`

考虑的是怎样才能在链接各台计算机的传输媒体上传输数据比特流，而不是具体的传输媒体（传输介质）。主要任务：确定与传输媒体接口有关的一些特性，物理层接口特性，包括机械特性、电气特性、功能特性、规程特性。

物理层考虑的是怎样才能在链接各台计算机的传输媒体上传输数据比特流，而不是具体的传输媒体（传输介质）

物理层的功能：信号的编码和译码，比特的接收和传输

主要任务：确定与传输媒体接口有关的一些特性=>定义标准，物理层接口特性

1. 机械特性：物理链接的特性，接口规格，形状，引线数目，引脚数量，排列情况

2. 电气特性：传输线路上信号的电压范围，阻抗匹配

3. 功能特性：传输速率和距离限制，指明某条线路上出现的某一电平表示何种意义，接口部件的信号线用途

4. 规程特性：定义各条物理线路的工作规程和时序关系

### 数据链路层

使用`frame`研究在同一个局域网中，分组怎么从一台主机传送到另一台主机。对于网络层而言，链路层的基本任务是将源机器中来自网络层的数据传输到目标机器的网络层。数链层不需要考虑物理层如何实现比特传输的细节，甚至可以简单设想好像是沿着两个数据链路层之间的水平方向把帧直接发送给对方。局域网内（以太网需要碰撞监测），广域网PPP不需要。数链层的可靠性传输可以实现，但没必要。当下不提供可以提高通信效率。组帧和拆卸帧，比特差错检测，寻址，竞争处理

### 网络层/IP层

`TCP/IP`体系中的网络层向上只提供简单灵活的、*无连接的、尽最大努力交付*的数据报服务。IP数据报`datagram`，→分组`fragment`网络层不提供服务质量的承诺，不保证分组交付的时限，所传送的分组可能出错、丢失、重复和失序，不可靠 **。为数据包提供最佳路径。**

### Port层

面向通信部分的最高层，也是用户功能的最底层。提供**进程**之间的逻辑通信。传输层对收到的报文进行差错检测（首部和数据部分），网络层只检查IP数据报的首部，不检查数据部分是否出错。提供两种协议，`TCP`，`UDP`，网络层无法同时实现数据报和虚电路两种协议。

1.  2. 复用：发送方不同的应用进程都可以使用一个运输层协议传送数据

    3. 分用：接收方的运输层在剥去报文的首部后能够把这些数据正确交付目的的应用进程。

### 会话层

维护会话连接。

`NFS`,`SQL`,`NETBIOS`,`RPC`

### 表示层

`JPEG` `MPEG` `ASII`

数据格式化，数据加密，解密，数据解压缩

### 应用层

使用`UDP`的应用层协议：`DNS`，`TFTP`，`RIP`，`DHCP`，`SNMP`，`NFS`，`IP`电话，流式多媒体通信，多播`IGMP`。

使用TCP的应用层协议：`SMTP`，`TELNET`，`HTTP`，`FTP`

![](/res/structure.jpeg)

## TCP/IP

OSI体系结构理论完整，但是复杂不适用，TCP/IP成为事实上的标准，采用了四层结构。

### 应用层

### 传输层

> The **TCP/IP** transport-level protocols allow application programs to communicate with other application programs.

### 网络层

> The Internet network-level protocols handle machine-to-machine communication.

    In other words, this layer implements **TCP/IP** routing. These protocols accept requests to send packets (along with the network address of the destination machine) from the Transport layer, convert the packets to datagram format, and send them down to the Network Interface layer for further processing.

### 网络接口层

`tcp/ip`没有物理层，或者说网络接口层即`osi`的物理层和数据链路层的结合。网络接口层将网络层的datagram组帧，并传递到设备驱动器，最后传递到网络适配器`network adapter card/connection`，是软硬件的接口，所以称为网络接口层。

## 多层次设备

1. `modom`调制解调器：一个将数字信号调变到模拟信号上进行传输，并解调收到的模拟信号为数字信号的电子设备。

2. `repeater`中继器：信号增强设备。中继器是用来加强缆线上的讯号，把信号送得更远，以延展网路长度。

3. `hub`转发器，多端口`repeater`。端口仅简单转发`bit`。使用`hub`的`ethernet`在逻辑上仍然是一个总线网，各站共享逻辑上的总线，使用的还是CSMA/CD协议。采用专门芯片，进行自适应串音回波抵消。

4. `Adapter`网卡：MAC层，是实现以太网协议的主要设备。实现与局域网传输介质之间的物理连接和电信号匹配。还涉及帧的发送与接收，帧的封装与拆封。介质访问控制。数据的编码与解码及数据缓存功能。计算机设备驱动程序告诉适配器传输对象位置。数据串行传输和并行传输的转换.实际组帧位置。执行((20230927212833-2ydqrc5 'CSMA/CD'))协议。装有CPU和存储器（`RAM`：对数据进行缓存，解决网络数据率和计算机总线数据率的不同和ROM：存放MAC.Addr），当适配器收到正确的帧时，使用中断通知计算机，交付协议栈中的网络层。

5. `network bridge`：对收到的帧根据其`frame.Addr.Dest`进行转发和过滤。两个或多个以太网通过网桥连接，就成为一个覆盖范围更大的以太网，而原来的每个以太网都称为一个*网段*，网桥工作在`DL`层的`MAC`子层，可以使以太网各网段称为隔离域*冲突域*。

6. `switcher`：实质是多端口网桥。每个端口都直接和单台主机或另一个交换机相联，全双工方式，交换机能够将网络分成小个的*冲突域*，为每个工作站提供更高的带宽。同时连通多对端口，使得多对主机能够同时通信。每个端口和连接到端口的主机构成一个碰撞域，具有`n`个端口的以太网的交换机的碰撞域有`n`个。提供数据缓存功能。具有多种不同速率的端口。自学习功能.即插即用。内部的帧交换表（地址表）通过自学习算法自动的建立起来，实际上这种交换表就是一个内容可寻址存储器`CAM`，交换机使用了专门的交换结构芯片，用硬件转发收到的帧，比用软件转发的网桥快得多。以太网交换机不使用共享总线，没有碰撞问题，不使用CSMA/CD协议，以全双工方式工作。其帧结构没有改变，所以仍然叫以太网。检测从`port`的`mac.frame.addr.dest`和`mac.frame.addr.orign`，然后与系统内部的*动态查找表*进行比较，若`mac.frame.addr.origin`不存在，则将该地址加入查找表，并将数据帧发送给响应的目的端口。`Switch`*对工作站是透明的。*交换机的性能超过集线器，使得集线器退出市场。

7. 路由器：

8.

9. 核心部件路由选择处理机。定期和相邻路由器交换路由信息不断的更新和维护路由表。

10. 交换结构作用是根据转发表对分组进行处理，将某个输入端口进入的分组从一个合适的输出端口转发出去。交换结构本身就是一种网络，但这种网络完全包含在路由器中。纵横交换结构：互连网络。


## 结构

### PDU(Protocol Data Unit)

计算机网络中把原始(应用层以上)的大块数据称为 `Datagram`数据报. 但是在低层传输时，由于链路的最大传输单元 `MTU`的限制，通常会把大块的原始数据进行分片`fragment`.

:::success 备注
其中, TCP会分段`segment`, 这些分段后的数据单元叫做`TCP Packet`. 关于为什么会分片, 涉及准确传输.  
但是UDP不会分片,故延续应用层的称呼,称为 `UDP Datagram`
所以网络层的PDU称为Packet.
而由于MTU限制, 链路层被叫做frame.
:::

![](/res/datagram.jpeg)

## 数据交换方式

### 电路交换

独占路径资源：连接建立-数据传输-连接释放，电话交换机

链路支持多路复用（可参考数据链路层的TDM等）特点是独占资源，因为两者建立了连接

时延小，有序传输，没有冲突，实用范围广，实时性强，控制简单

建立连接时间长，线路独占，灵活性差，难以实现规格化

蜂窝移动通信网开始，话音通信和数据通信都采用分组交换。

### 报文交换

存储转发

1. 源先根据报文加上ip地址，物理地址等，通过物理层发送2.交换机收到报文之后，先进行存储，等待链路空闲之后进行转发，但是转发的路径不是固定的，是比较随机的3.最后通过许多交换机最终到达目的地

分为组播和单播

单播是主机间一对一的通讯模式，网络中的设备根据网络报文中包含的目的地址选择传输路径，将单播报文传送到指定的目的地，只对接收到的数据进行转发，不会进行复制。它能够针对每台主机及时的响应，现在的网页浏览全部都是采用单播模式。

组播是主机间一对多的通讯模式， 组播是一种允许一个或多个组播源发送同一报文到多个接收者的技术。组播源将一份报文发送到特定的组播地址，组播地址不同于单播地址，它并不属于特定某个主机，而是属于一组主机。一个组播地址表示一个群组，需要接收组播报文的接收者都加入这个群组。

pros:无需建立连接，动态分配线路，提高线路的可靠性，提高线路的利用率，提供多目标服务

cons:数据进入交换结点要经历存储、转发过程，引起转发时延（包括接收报文，检验正确性，排队，发送时间），报文交换对报文的大小没有限制，要求网络结点需要有较大的缓存空间，使用于早期的电报通信网中

### 分组交换

存储转发，限制了每次传送数据块大小的上限，把大的数据块划分为合理的小数据块，加上一些必要的控制信息，（源地址、目的地址，编号信息），构成分组（Package）

分组交换和报文交换基本相同，就是将报文切割之后再进行发送

报文交换：一共三段，每段都需要10000bit/1000bps=10s，三段就是3x10=30s

分组交换：可以分为两段，一个是第一个数据开始发到最后一个数据从源发出，一段是最后一个数据到达目的地。第一段总时间是10000bit/1000bps=10s，第二段总时间是（10/1000）\*2=0.02s，所以总时间是10.02s。

理解一下，这里就是报文交换的时候，由于报文没有分割，所以即使先到的数据也不能先发走，只能等到最后一段报文全部到了之后才能一起走，相对于分组交换明显拖慢了前面数据的速度，所以导致报文交换明显慢于分组交换

可以看到分组交换明显快于报文交换，所以我们通常使用分组交换

Pros:无建立时延，线路利用率高，减化了存储管理（相对于ME），加速传输，减少了出错的概率和重发数据量

Cons:存在存储转发时延，需要传输额外的信息量

|        |        |
| ------ | ------ |
| 数据报 | 虚电路 |

|发送分组之前不需要建立连接，不独占线路，资源利用率高2. 网络尽最大努力交付，传输不保证可靠性，可能会丢失，网络为每个分组独立的选择路由，转发的路径可能不同，因而分组不一定按序到达3. 存储转发可能排队，带来一定时延，通过交换结点的通信量较大或网络发声拥塞时，时延会大大增加4. 网络有冗余路径，故障适应能力强5. 提高了网络吞吐量|数据报结合电路交换方式，分组发送前建立一条逻辑上相联的虚电路，一但建立，固定了虚电路所对应的物理路径，与电路交换相似，三个阶段分为虚电路建立-数据传输-虚电路释放

1.  分配虚电路号，不同与其他虚电路号
2.  虚电路通信链路的建立和拆除需要时间开销，对交互式应用和小量的短分组情况显得很浪费
3.  虚电路的路由选择体现在连接建立阶段，建立后就确定了传输路径。
4.  提供了可靠的通信功能，能保证每个分组正确有序到达，可以对两个数据端点的流量进行控制，当接收方来不及接收数据时，可以通知发送方暂缓发送
5.  致命弱点：当网路中某个结点或某条链路出现故障而彻底失效时，所有经过该结点或该链路的虚电路将遭到破坏
6.  分组首部不包含目的地址，包含的是虚电路标识符，相对于数据报的方式开销小。|

**计算机网络的各层及其协议的集合。体系结构标准化网络有厂商标准化和国际标准化两个阶段。**

计算机网络制造厂商的标准化：IBM的SNA（System Network Architecture），DEC的DNA（Digital Network Architecture），Novell的NetWare，Microsoft的LAN Manager，Apple的AppleTalk等

国际标准化：**ISO**的**OSI/RM**，**IEEE**的802局域网标准，**ITU-T**的三个系列，**ANSI，EIA/TIA**

## 参考文献

[IBM Documentation](https://www.ibm.com/docs/hu/aix/7.3?topic=protocol-tcpip-protocols)

[www.geeksforgeeks.org](https://www.geeksforgeeks.org/open-systems-interconnection-model-osi/)
