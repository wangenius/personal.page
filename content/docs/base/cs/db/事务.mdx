---
title: 事务
---

# 事务

# 原子性

必须全部完成或者全部不完成，没有中间状态。比如扣款和加款需要原子进行。A账户扣款之后，断电，B账户没收到款，就会发生纠纷。

# 一致性

所有数据保持一致状态

# 隔离性

即互斥访问操作数据库

# 持久性

应对数据库崩溃的情况

# 并发机制保证

1. 封锁：所使用的空间和封锁对象个数成正比。

2. 时间戳：每个数据库对象的读时间和写时间都需要空间。不管当前是否被访问。

3. 乐观控制法：需要保存事务操作的临时副本。

