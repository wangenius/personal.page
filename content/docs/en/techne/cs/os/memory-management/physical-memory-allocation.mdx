---
title: Physical Memory Allocation
sidebar_position: 2
slug: physical-allocation
---

## Contiguous Allocation

- **Single partition** – Entire memory dedicated to one job; internal fragmentation.
- **Fixed partitions** – Memory divided into fixed-size regions (equal or unequal). Requires a partition table, suffers from internal fragmentation, and cannot easily share partitions across processes.

## Dynamic Partitioning

Maintain a free-partition table or list sorted by starting address. Allocators:

| Algorithm | Description |
| --- | --- |
| First Fit | Scan from the beginning; allocate the first block big enough. Generally fastest. |
| Next Fit | Resume scanning from the last allocation point. |
| Best Fit | Choose the smallest block that satisfies the request. |
| Worst Fit | Choose the largest block to leave sizable remainders. |

External fragmentation is mitigated via compaction (requires relocatable programs) or immediate coalescing of adjacent free blocks.

## Paging Basics

Memory is divided into fixed-size frames; processes are divided into same-sized pages. Pages map to frames via a page table, eliminating external fragmentation (only the last page may have internal waste).

Terminology:

- Virtual address = `(page number, offset)`.
- Physical address = `(frame number, offset)`.
- **Page table** per process; **page-table base register** (`PTR`) stores its start & length.
- **TLB** – Associative cache of recent page table entries.
- **Protection bits** – Valid, dirty, reference, read/write flags.
- **Page faults** – Triggered when `valid = 0`; handler loads the page and updates the table.

With multi-level page tables, the virtual address is split into directory/page/offset fields; on an L1 TLB miss, hardware or software walks the tables to produce the physical frame number.

## Assembly/Disassembly

When a process terminates, the OS releases its frames, clears page-table entries, and marks free frames available for future allocations.
